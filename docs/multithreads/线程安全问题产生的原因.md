### 线程安全问题产生的原因

1. 必须在多线程的环境下
2. 存在共享资源
3. 对共享资源进行非原子性操作
4. 对共享资源进行写操作

简单来说就是多个线程同时对同一个共享资源进行的写的操作，就会触发线程安全问题!

### 解决思路

> ​	将**操作共享数据的线程的代码**封装起来，当有线程在执行这些代码的时候，其他线程是不可以参与运算的。必需要当前线程把这些带那都执行完毕后，其他线程才能参与运算。

在java中可以使用`synchronized`关键字解决这个问题

synchronized的使用有三种方式:

1、同步代码块:

```java
synchronized(this){
  //代码块
}
```

2、同步方法：

```java
public synchronized void test(){
    //代码块
}
```

3、静态同步方法：

```java
public static synchronized void test(){
    //代码
}
```

​	这里需要指出的是，对于方式1和2，虚拟机会对实例对象进行加锁，而方式3会对Class对象进行加锁.
